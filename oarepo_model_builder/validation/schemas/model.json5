{
  "model": {
    "type": "object",
    "$ref": "#/$defs/model-properties",
    "unevaluatedProperties": false
  },
  "model-properties": {
    "properties": {
      "properties": {
          "$ref": "#/$defs/jsonschema-object"
      },
      "type": {
        "type": "string",
        "enum": ["object"]
      }
    }
  },
  "jsonschema-object": {
    "type": "object",
    "patternProperties": {
      "^[^^].*{}$": {
        "$ref": "#/$defs/jsonschema-object"
      },
      "^[^^].*{nested}$": {
        "$ref": "#/$defs/jsonschema-object"
      },
      "^[^^].*[^]}]$|^.$": {
        oneOf: [
          {
            "$ref": "#/$defs/jsonschema-property"
          },
          {
            "type": "string",
            "minLength": 1
          }
        ]
      },
    },
    "unevaluatedProperties": false
  },
  "jsonschema-property": {
    "type": "object",
    "unevaluatedProperties": false,
    "properties": {
      "description": {
        "type": "string"
      },
      "type": {
        "type": "string",
        "enum": [
          "boolean",
          "number",
          "integer",
          "array",
          "object",
          "flatten"
        ]
      },
      "items": {
        "$ref": "#/$defs/jsonschema-property"
      },
      "properties": {
        "$ref": "#/$defs/jsonschema-object"
      },
      // recognized text properties
      "minLength": {
        "type": "integer"
      },
      "maxLength": {
        "type": "integer"
      },
      // number properties
      "minimum": {
        "type": "number"
      },
      "exclusiveMinimum": {
        "type": "number"
      },
      "maximum": {
        "type": "number"
      },
      "exclusiveMaximum": {
        "type": "number"
      },
      "required": {
        "type": "boolean"
      },
      // recognized array properties
      "minContains": {
        "type": "integer"
      },
      "maxContains": {
        "type": "integer"
      },
      "enum": {
        "type": "array"
      },
      "format": {
        "type": "string"
      },
      "additionalProperties": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string"
          }
        }
      },
      "propertyNames": {
        "type": "object",
        "properties": {
          "pattern": {
            "type": "string"
          }
        }
      },
      // for array
      "uniqueItems": {
        "type": "boolean"
      },
      "minItems": {
        "type": "integer"
      },
      "maxItems": {
        "type": "integer"
      }
    }
  }
}